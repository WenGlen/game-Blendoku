<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TEST </title>
  <link rel="stylesheet" href="css/Blendokubase.css">
  <link rel="icon" href="img/BlendokuLogo.png" type="image/x-icon">

</head>

<body class="body">
  
  <div class="wrap">
    <!-- Start Screen -->
    <div id="main-menu">
      <img src="img/BlendokuLogo.png" alt="">
      <h1 class="game-title">TEST</h1>

      <!-- 主動作列 -->
      <div class="menu-actions">
        <button id="btn-tutorial" class="btn primary">玩法教學</button>
        <button class="btn primary" data-level="0">開始遊戲 (Lv1)</button>
      </div>


    <!-- Tutorial Overlay -->
    <div id="tutorial" class="overlay hidden" aria-hidden="true" role="dialog">
      <div class="tutorial-card">
        <div class="tutorial-header">
          <h2 id="tutorial-title">遊戲教學</h2>
          <button class="icon-btn" id="tutorial-close" aria-label="關閉教學">✕</button>
        </div>

        <div class="tutorial-body">

          <!-- Step 4 -->
          
          <section class="t-step" data-step="3">
            <h3>全部排放正確後，會自動跳出過關彈窗</h3>

            <div class="demo-panel">
              <div class="demo demo-step4">
                <div class="grid finish-scene">
                  <!-- 四格：1、3、4 已放；2 是空 -->
                  <div class="cell"><div class="tile tile-a"></div></div>   <!-- 第1格 綠 -->
                  <div class="cell cell-2"><!-- 空 --></div>                <!-- 第2格 空 -->
                  <div class="cell"><div class="tile tile-b"></div></div>   <!-- 第3格 黃 -->
                  <div class="cell"><div class="tile tile-d"></div></div>   <!-- 第4格 黃 -->
                </div>

                <!-- 浮動中的最後一顆（被手抓著的那顆）：一開始在第1格左邊 -->
                <div class="tile tile-c floating"></div>

                <!-- 游標：兩張圖 → 用 opacity 切換 -->
                <img class="cursor-hand idle"     src="img/hand-cursor-canDrag.png"  alt="">
                <img class="cursor-hand grabbing" src="img/hand-cursor-draging.png"  alt="">
              </div>
            </div>

            <!-- 教學中的假彈窗（CSS 動畫出現/隱藏） -->
            <div class="tutorial-fake-popup">🎉　完成！　🎉</div>
          </section>

        </div>
        <div class="tutorial-footer">
          <div class="dots" id="tutorial-dots"></div>
          <div class="actions">
            <button class="btn ghost" id="btn-prev" disabled>上一頁</button>
            <button class="btn primary" id="btn-next">下一頁</button>
          </div>
        </div>
      </div>
    </div>



    
    <div class="header">

      <div class="logo">
        <img src="img/BlendokuLogo.png" alt="">
      </div>

      <h3 class="levelNum">Lv 1</h3>

      <button id="btn-main-menu" class="icon-btn2" ><img class="homeIcon" src="img/home.png" alt=""></button>

    </div>

    <div class="panel">
      
      <!-- 作答區 -->
      <div id="board" class="grid-board"></div>

      <div class="gap-line"></div>

      <!-- 起始色塊區 -->
      <div id="start-area" class="start-board"></div>

      <div class="gap-space"></div>

      <!-- 記分區 -->
      <div class="info-bar">
        <span>步數：<span id="step-count" class="counter">0</span></span>
        <span>時間：<span id="timer" class="counter">0.0</span> 秒</span>
      </div>

      <!-- 彈窗 --> 
      <div id="win-popup" class="popup hidden">
        <div class="popup-content">
          <h3>🎉　　過關！　　🎉</h3>
          <div class="popup-content pass-record">
            <p>步數：<span id="popup-step">0</span></p>
            <p>時間：<span id="popup-time">0.0</span> 秒</p>
          </div>
          <div>
            <button onclick="restartGame()">再次挑戰</button>
            <button onclick="nextLevel()">下一關</button>
          </div>
        </div>
      </div>
      
    </div>

    <footer class="footer">
      <p>製作者: Glen  版本: v9.1</p>
      <p>玩法機制參考: Blendoku2</p>
    </footer>
  </div>

  <!-- js -->
  <script src="level.js"></script>
  <script src="Blendoku.js"></script>
  
</body>
</html>
